<div class="content">
  <div class="container">
    <h1>
      CUADRO DE DISTRIBUCION DE VACUNAS DE ESTRATEGIA A ALMACEN ESPECIALIZADO
    </h1>

    <div class="row filtros">
      <div class="col-lg-4"><app-provincia-selector (selecciono)="selecciono_provincia($event)"></app-provincia-selector></div>
      <div class="col-lg-4"><app-fabricante (selecciono)="selecciono_fabricante($event)"></app-fabricante></div>
      <div class="col-lg-4"><button pButton type="button" label="BORRAR FILTROS" (click)="restablecer_filtro()"></button></div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <p-table
            [value]="distribuciones_listado"
            [rows]="10"
            [showCurrentPageReport]="true"
            [rowsPerPageOptions]="[10, 25, 50]"
            [paginator]="true"
          >
            <ng-template pTemplate="header">
              <tr>
                <th pSortableColumn="FECHA">
                  FECHA <p-sortIcon field="code"></p-sortIcon>
                </th>
                <th pSortableColumn="NOMBRE">
                  PROVINCIA <p-sortIcon field="PROVINCIA"></p-sortIcon>
                </th>
                <th pSortableColumn="FABRICANTE">
                  FABRICANTE <p-sortIcon field="FABRICANTE"></p-sortIcon>
                </th>

                <th pSortableColumn="CANTIDAD_DOSIS">
                  CANTIDAD DOSIS
                  <p-sortIcon field="CANTIDAD_DOSIS"></p-sortIcon>
                </th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-distris>
              <tr>
                <td>
                  {{ distris.FECHA | date: "dd-MM-yyyy" }}
                </td>
                <td>
                  {{ distris.NOMBRE }}
                </td>
                <td>
                  {{ distris.FABRICANTE }}
                </td>

                <td>
                  {{ distris.CANTIDAD_DOSIS }}
                </td>

                <!-- <td>
                       {{distris.TIPO_DOCUMENTO}}
                     
                     </td>
                     <td>
                       {{distris.NUMERO_DOCUMENTO}}
                     </td>
-->
                <td>
                  <button
                    pButton
                    type="button"
                    label="ELIMINAR"
                    (click)="eliminar(distris.ID)"
                  ></button>
                </td>
              </tr>
            </ng-template>
          </p-table>

          <div class="card-header border-0">
            <h3 class="card-title">Distribuciones</h3>
            <div class="card-tools">
              <a href="#" class="btn btn-tool btn-sm">
                <i class="fas fa-download"></i>
              </a>
              <a href="#" class="btn btn-tool btn-sm">
                <i class="fas fa-bars"></i>
              </a>
            </div>
          </div>
          <div class="card-body table-responsive p-0"></div>
          <app-distribucion-estrategia-red
            #nuevo_envio
            (creo_nuevo)="creo_nuevo()"
          ></app-distribucion-estrategia-red>

          <div class="card-footer clearfix">
            <button
              type="button"
              class="btn btn-info float-right"
              (click)="open_nuevo()"
            >
              <i class="fas fa-plus"></i> AGREGAR DISTRIBUCION
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-distribucion-estrategia-red #nuevo></app-distribucion-estrategia-red>

<p-confirmDialog
  header="CONFIRMAR"
  acceptLabel="ACEPTAR"
  rejectLabel="CANCELAR"
  icon="pi pi-exclamation-triangle"
></p-confirmDialog>
